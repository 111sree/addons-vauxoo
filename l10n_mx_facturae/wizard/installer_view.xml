<?xml version="1.0"?>
<openerp>
  <data>
        <record id="sequence_detail_invoice_elec_form_gaby" model="ir.ui.view">
            <field name="name">sequence.detail.invoice.form.gaby</field>
            <field name="model">sequence.approval.config</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Sequence Approved Sat">
                    <field name="approval_number" required="1"/>
                    <field name="serie"/>
                    <field name="approval_year" required="1"/>
                    <field name="number_start"/>
                    <field name="number_end" required="1"/>
                    <field name="journal_id" required="1"/>
                    <newline/>
                </form>
            </field>
        </record>
        <record id="sequence_detail_invoice_elec_tree_gaby" model="ir.ui.view">
            <field name="name">sequence.detail.invoice.tree.gaby</field>
            <field name="model">sequence.approval.config</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Sequence Approved Sat" editable="bottom">
                    <field name="approval_number" required="1"/>
                    <field name="serie"/>
                    <field name="approval_year" required="1"/>
                    <field name="number_start"/>
                    <field name="number_end" required="1"/>
                    <field name="journal_id" required="1"/>
                    <newline/>
                </tree>
            </field>
        </record>

<!--
Configurar Factura Electronica
-->
    <record id="invoice_elec_config_view" model="ir.ui.view">
        <field name="name">Configure Electronic Invoice</field>
        <field name="model">facturae.config</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="base.res_config_view_base"/>
        <field name="arch" type="xml">
          <data>
            <form position="attributes">
              <attribute name="string">Electronic Invoice Configuration</attribute>
            </form>
            <separator string="title" position="attributes">
            <attribute name="string">Configure your data for Electronic Invoice</attribute>
              </separator>
              <xpath expr="//label[@string='description']" position="attributes">
                  <attribute name="string">Through the following wizard you can configure the data to run and generate electronic invoices in your company according to existing legislation in Mexico.
                  </attribute>
              </xpath>
            <xpath expr='//separator[@string="vsep"]' position='attributes'>
                  <attribute name='rowspan'>5</attribute>
                  <attribute name='string'></attribute>
              </xpath>
            <group string="res_config_contents" position="replace">
                   <group colspan="4" col="8">
                    <group colspan="4" col="2">
                        <field name="vat"/>
                    </group>
                    <separator orientation="vertical"/>
                    <group colspan="1" col="1">
                        <field name="cif_file" widget='image'/>
                    </group> 
                   </group>
                    <field name="sequences_app" nolabel="1"/>
            </group>
          </data>
        </field>
    </record>

    <record id="action_config_invoice_electronic" model="ir.actions.act_window">
        <field name="name">Configure Electronic Invoice</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">facturae.config</field>
        <field name="view_id" ref="invoice_elec_config_view"/>
        <field name="view_type">form</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>
    <!-- register configuration wizard -->
    <record id="config_wizard_step_invoice_electronic" model="ir.actions.todo.category">
        <field name="name">Electronic Invoice</field>
        <field name="sequence">5</field>
    </record>
    
    <record model="ir.actions.todo" id="config_auto_invoice_electronic">
        <field name="action_id" ref="action_config_invoice_electronic"/>
        <field name="category_id" ref="config_wizard_step_invoice_electronic"/>
        <field name="type">automatic</field>
    </record>

    <record id="invoice_elec_cert_config_view" model="ir.ui.view">
        <field name="name">Configure Certificates to Electronic Invoice</field>
        <field name="model">invoicee.certificate.config</field>
        <field name="type">form</field>
        <field name="inherit_id" ref="base.res_config_view_base"/>
        <field name="arch" type="xml">
          <data>
            <form position="attributes">
              <attribute name="string">Certificates to Electronic Invoice</attribute>
            </form>
            <separator string="title" position="attributes">
            <attribute name="string">Configure Certificates to Electronic Invoice</attribute>
              </separator>
              <xpath expr="//label[@string='description']" position="attributes">
                <attribute name="string">
Set here the files provided by the SAT to generate data required for electronic invoice.
                </attribute>
              </xpath>
            <xpath expr='//separator[@string="vsep"]' position='attributes'>
                  <attribute name='rowspan'>5</attribute>
                  <attribute name='string'></attribute>
              </xpath>
            <group string="res_config_contents" position="replace">
                <field name="certificate_file"/>
                <newline/>
                <field name="certificate_key_file"/>
                <newline/>
                <field name="certificate_password" password="True"/>
                <newline/>
                <button type="object" string="Add Production" name="action_add_production" icon="gtk-ok"/>
            </group>
          </data>
        </field>
    </record>

    <record id="action_config_invoice_electronic_cert" model="ir.actions.act_window">
        <field name="name">Configure Certificates to Electronic Invoice</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">invoicee.certificate.config</field>
        <field name="view_id" ref="invoice_elec_cert_config_view"/>
        <field name="view_type">form</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>
    <!-- register configuration wizard -->
    <record id="config_wizard_invoice_electronic_cert" model="ir.actions.todo.category">
        <field name="name">Certificate Certificates to Electronic Invoice</field>
        <field name="sequence">6</field>
    </record>
    
    <record model="ir.actions.todo" id="config_auto_invoice_electronic_cert">
        <field name="action_id" ref="action_config_invoice_electronic_cert"/>
        <field name="category_id" ref="config_wizard_invoice_electronic_cert"/>
        <field name="type">automatic</field>
    </record>
    
  </data>
</openerp>

