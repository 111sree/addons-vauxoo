=== modified file 'account/account_invoice_view.xml'
--- account/account_invoice_view.xml	2012-03-02 15:46:02 +0000
+++ account/account_invoice_view.xml	2012-05-29 21:57:00 +0000
@@ -265,7 +265,7 @@
                     <field name="currency_id" width="50"/>
                     <button name="%(action_account_change_currency)d" type="action" icon="terp-stock_effects-object-colorize" string="Change" attrs="{'invisible':[('state','!=','draft')]}" groups="account.group_account_user"/>
                     <newline/>
-                    <field string="Customer" name="partner_id" on_change="onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id)" groups="base.group_user" context="{'search_default_customer': 1}"/>
+                    <field string="Customer" name="partner_id" on_change="onchange_partner_id(type,partner_id,date_invoice,payment_term, partner_bank_id,company_id,currency_id)" groups="base.group_user" context="{'search_default_customer': 1}"/>
                     <field domain="[('partner_id','=',partner_id)]" name="address_invoice_id"/>
                     <field name="fiscal_position" groups="base.group_extended" widget="selection"/>
                     <newline/>

=== modified file 'account/invoice.py'
--- account/invoice.py	2012-03-16 16:47:19 +0000
+++ account/invoice.py	2012-05-30 00:15:11 +0000
@@ -378,7 +378,7 @@
         return True
 
     def onchange_partner_id(self, cr, uid, ids, type, partner_id,\
-            date_invoice=False, payment_term=False, partner_bank_id=False, company_id=False):
+            date_invoice=False, payment_term=False, partner_bank_id=False, company_id=False, currency_id=False):
         invoice_addr_id = False
         contact_addr_id = False
         partner_payment_term = False
@@ -448,6 +448,7 @@
         if partner_bank_id != bank_id:
             to_update = self.onchange_partner_bank(cr, uid, ids, bank_id)
             result['value'].update(to_update['value'])
+        result['value']['currency_id'] = currency_id
         return result
 
     def onchange_journal_id(self, cr, uid, ids, journal_id=False):

